<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <title>Sliding Window Behavior Model</title>

    <!--Import Google Icon Font-->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet" />
    <!--Import materialize.css-->
    <link
      type="text/css"
      rel="stylesheet"
      href="css/materialize.min.css"
      media="screen,projection" />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <!-- Top App Bar -->
    <nav class="deep-purple darken-3">
      <div class="nav-wrapper">
        <a href="#" class="brand-logo center">
          <i class="material-icons">timeline</i>
          Sliding Window Model
        </a>
      </div>
    </nav>

    <div class="container">
      <div class="row">
        <div class="col s12" id="viz">
          <div class="row">
            <div class="card z-depth-2">
              <div class="card-content">
                <span class="card-title">
                  <i class="material-icons">view_quilt</i>
                  Visualization
                </span>
                <div class="divider"></div>
                <!-- Timeline -->
                <div class="visualization">
                  <div class="timeline-container" id="timelineContainer">
                    <div class="timeline-numbers" id="timelineNumbers"></div>
                    <div class="timeline-track" id="timelineTrack">
                      <div id="windowRegions"></div>
                      <div id="positionMarkers"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="card">
              <div class="card-content">
                <span class="card-title">
                  <i class="material-icons">insights</i>
                  Status
                </span>
                <div class="divider"></div>
                <div class="row status-row center-align">
                  <div class="card">
                    <div class="card-content">
                      <span class="card-title">Window Lower</span>
                      <div class="divider"></div>
                      <p class="kpi" id="winLStatus">-</p>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-content">
                      <span class="card-title">Window Center</span>
                      <div class="divider"></div>
                      <p class="kpi" id="icConstrainedStatus">-</p>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-content">
                      <span class="card-title">Window Upper</span>
                      <div class="divider"></div>
                      <p class="kpi" id="winUStatus">-</p>
                    </div>
                  </div>
                  <div class="card">
                    <div class="card-content">
                      <span class="card-title">Window Length</span>
                      <div class="divider"></div>
                      <p class="kpi" id="actualLength">-</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row" id="controls">
            <div class="card">
              <div class="card-content">
                <span class="card-title">
                  <i class="material-icons">tune</i>
                  Controls
                </span>
                <div class="divider"></div>
                <div class="row controls-row">
                  <!-- IT -->
                  <div>
                    <div class="card-panel">
                      <div
                        class="valign-wrapper"
                        style="justify-content: space-between">
                        <span class="subtle">Total Images</span>
                        <i
                          class="material-icons tooltipped"
                          data-position="left"
                          data-tooltip="Total number of images"
                          >help_outline</i
                        >
                      </div>
                      <p class="kpi" id="itValue">-</p>
                      <p class="range-field">
                        <input
                          type="range"
                          id="itSlider"
                          min="1"
                          max="500"
                          value="321" />
                      </p>
                    </div>
                  </div>
                  <!-- IC Viewport -->
                  <div>
                    <div class="card-panel">
                      <div
                        class="valign-wrapper"
                        style="justify-content: space-between">
                        <span class="subtle">Viewport Center</span>
                        <i
                          class="material-icons tooltipped"
                          data-position="left"
                          data-tooltip="Desired center from external viewport"
                          >help_outline</i
                        >
                      </div>
                      <p class="kpi" id="icViewportValue">-</p>
                      <p class="range-field">
                        <input
                          type="range"
                          id="icViewportSlider"
                          min="1"
                          max="321"
                          value="123" />
                      </p>
                    </div>
                  </div>

                  <!-- WinN -->
                  <div>
                    <div class="card-panel">
                      <div
                        class="valign-wrapper"
                        style="justify-content: space-between">
                        <span class="subtle">Window Length</span>
                        <i
                          class="material-icons tooltipped"
                          data-position="left"
                          data-tooltip="Requested window length"
                          >help_outline</i
                        >
                      </div>
                      <p class="kpi" id="winNValue">-</p>
                      <p class="range-field">
                        <input
                          type="range"
                          id="winNSlider"
                          min="0"
                          max="321"
                          step="2"
                          value="40" />
                      </p>
                    </div>
                  </div>

                  <!-- LimL -->
                  <div>
                    <div class="card-panel">
                      <div
                        class="valign-wrapper"
                        style="justify-content: space-between">
                        <span class="subtle">Lower Limit</span>
                        <i
                          class="material-icons tooltipped"
                          data-position="left"
                          data-tooltip="Lowest allowed image index"
                          >help_outline</i
                        >
                      </div>
                      <p class="kpi" id="limLValue">-</p>
                      <p class="range-field">
                        <input
                          type="range"
                          id="limLSlider"
                          min="1"
                          max="321"
                          value="99" />
                      </p>
                    </div>
                  </div>

                  <!-- LimU -->
                  <div>
                    <div class="card-panel">
                      <div
                        class="valign-wrapper"
                        style="justify-content: space-between">
                        <span class="subtle">Upper Limit</span>
                        <i
                          class="material-icons tooltipped"
                          data-position="left"
                          data-tooltip="Highest allowed image index"
                          >help_outline</i
                        >
                      </div>
                      <p class="kpi" id="limUValue">-</p>
                      <p class="range-field">
                        <input
                          type="range"
                          id="limUSlider"
                          min="1"
                          max="321"
                          value="148" />
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Materialize JS -->
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const tips = document.querySelectorAll(".tooltipped");
        M.Tooltip.init(tips);
      });
    </script>

    <!-- App logic (unchanged IDs) -->
    <script src="index.js"></script>
  </body>
</html>
